/* This scss file is not included in index.html - it is used to generate main.css */
/* Generate main.css by running

    sass assets/stylesheets/main.scss assets/stylesheets/main.css

*/

body {
  font-family: "Roboto Condensed", sans-serif;
}


.no-margin {
  margin: 0;
}
.no-bottom-margin {
  margin-bottom: 0;
}


.log-paragraph {
  margin-bottom: 0; }

//canvas {
//  position:absolute;
//  left: 0;
//  right: 0;
//  margin: auto
//  /*alpha:0.5;*/
//}


//.canvas-container {
//  z-index: 2;
//  /* Keep above log-container so don't catch scroll events */
//  position: absolute; }

.log-container {
  overflow-y: scroll; }

#base-log {
  height: 200px; }

html,
body {
  height: 100%;
  margin: 0
}

.flex-box {
  display: flex;
  flex-flow: column;
  height: 100%;
}

// Fit to content
.flex-box .flex-row.flex-header {
  flex: 0 1 auto;
  /* The above is shorthand for:
  flex-grow: 0,
  flex-shrink: 1,
  flex-basis: auto
  */
  background: grey;
}

// Fill content:
.flex-box .flex-row.flex-content {
  flex: 1 1 auto;
  //text-align: center;
  //background: #b2cfff;
  background: #a7cbd5; // http://colorpalettes.net/color-palette-3750/
  padding: 2px;
}

// Fixed height:
.flex-box .flex-row.flex-footer {
  //flex: 0 1 5rem; // todo min height?
  flex: 0 1 auto; // fill to content
}

.bottom-bar {
  background: #71777d;

  display: flex;
  flex-flow: row;

  // Centering bottom bar according to https://stackoverflow.com/a/32546033/4904996
  .bottom-section {
    display: flex;
    justify-content: center;
    flex: 1;
    padding: 0.5rem;
  }

  #player-bars {
    align-items: center;
    #player-health {
      margin-bottom: 0.25rem;
    }
    #player-mana {
      //height: 1.5rem;
    }
  }
  #ability-bar {

  }
  #item-area {

  }
}


#cast-bar {
  position:absolute;
  bottom:1rem;
  left:50%;
  margin-left:-10rem;
  height:1rem;
  width:20rem;

  .bar {
    height: 1.5rem;

    .bar-text {
      text-align: center;
    }
  }
}

#ally-frames, #enemy-frames {
  padding: 1rem;
}
.ally-frame, .enemy-frame {
  display: flex;
  flex-flow: row;
  width: 100%;
  justify-content: flex-start;
  padding: 0.35rem;

  &.dead {
    .health-area {
      cursor: default;
    }
  }

  .portrait-area {
    flex: 0 0 5rem;

    padding: 0.2rem;

    position: relative;
  }
  .health-area {
    flex: 0 0 10rem; // fixed width

    background: #444;
    border-radius: 0.25rem;
    padding: 0.2rem;
    color: white;

    cursor: pointer;

    border: 1px solid black;
    &.targeted {
      border: 1px solid white;
    }
  }
  .effects-area {
    flex: 1 1 auto; // fill content

    padding: 0.25rem;
  }
}
.ally-frame {
  .effects-area {
    text-align: right;
  }
}
.enemy-frame {
  .portrait-area {
    text-align: right;
  }
}




.combat-text {
  position: absolute;

  /* Safari 4.0 - 8.0 */
  -webkit-animation-name: example;
  -webkit-animation-duration: 1.5s;
  -webkit-animation-timing-function: linear;

  /* Standard syntax */
  animation-name: example;
  animation-duration: 1.5s;
  animation-timing-function: linear;

  // Default state (hidden)
  opacity: 0.0;
  bottom: 0.25rem;

  &.heal {
    color: #009933;
  }
}

// TODO how are we going to offset more with bigger numbers?
// ally text is left aligned, offset to the right
.ally-frame {
  .combat-text {
    left: 0.25rem;

    &.offset {
      left: 2.25rem;
    }
  }
}
// enemy text is inverted; right aligned, offset to the left
.enemy-frame {
  .combat-text {
    right: 0.25rem;

    &.offset {
      right: 2.25rem;
    }
  }
}

/* Safari 4.0 - 8.0 */
@-webkit-keyframes example {
  10% {
    opacity: 1.0;
  }
  80% {
    opacity: 1.0;
  }
  100% {
    opacity: 0.0;
    bottom: 2.25rem;
  }
}

/* Standard syntax */
@keyframes example {
  10% {
    opacity: 1.0;
  }
  80% {
    opacity: 1.0;
  }
  100% {
    opacity: 0.0;
    bottom: 2.25rem;
  }
}






















.bar {
  position:relative;
  overflow: hidden;
  height: 1.5rem;
  width: 100%;

  border: 1px solid #333;
  border-radius: 0.1rem;

  .bar-layer {
    position:absolute;
    height: 100%;

    &.background {
      background: linear-gradient(#666,#444);
    }
    &.health {
      background: linear-gradient(#00ff55, #009933);
    }
    &.mana {
      background: linear-gradient(#0000ff, #0000b3);
    }
    &.casting {
      background: linear-gradient(#ff9900, #995c00);
      //border-right: 1px solid white;
      box-shadow: 2px 0 3px white;
    }
    &.cast-complete {
      background: linear-gradient(#00ff55, #009933);
    }
    &.cast-canceled {
      background: linear-gradient(#cc0000, #660000);
    }

    &.bar-text {
      margin-left: 0.15rem;
      color: white;
      text-shadow: 1px 1px 1px #000;
    }
  }
}












.action-bar-button, .effect {
  display: inline-block;
  position: relative;
  -webkit-appearance: none;
  transition: background-color 0.25s ease-out, color 0.25s ease-out;
  line-height: 1;
  text-align: center;

  overflow: hidden; // hide rest of canvas
  canvas {
    left: 50%;
    position: absolute;
    top: 50%;
    z-index: 2;
  }

}
.action-bar-button {
  width: 3.5rem;
  height: 3.5rem;
  margin-left: 0.25rem;
  margin-right: 0.25rem;

  border: 1px solid black;
  border-radius: 0.375rem;

  cursor: pointer;

  .hotkey {
    position: absolute;
    top: 0.25rem;
    right: 0.25rem;
    color: #aaa;
    font-size: 0.9rem;
  }
  .spell-name {
    display:block;
    position: absolute;
    text-align: center;
    width: 100%;
    top: 1.25rem;
    color: white;
    font-size: 0.9rem;
  }
}
.effect {
  width: 2rem;
  height: 2rem;
  //margin-top: 0.25rem;
  margin-left: 0.25rem;
  margin-right: 0.25rem;

  border-radius: 0.188rem;

  line-height: inherit; // center text vertically

  .effect-name {
    display:block;
    position: absolute;
    text-align: center;
    width: 100%;
    top: 0.5rem;
    color: white;
    font-size: 0.65rem;
  }
  .duration {
    display:block;
    position: absolute;
    text-align: center;
    width:100%;
    bottom: -0.8rem;
    color: black;
    font-size: 0.75rem;
  }

}

.action-bar-button, .effect {

  /*    icons:    */
  // Icons from https://game-icons.net
  // When exporting:
  //    Background: gradient -> color -> transparent, shape -> rounded square, corner radius -> 64
  //    Foreground: shrink twice
  //    Size and preset: dimensions -> 128px

  &.hand-bandage:before {
    content: url('icons/hand-bandage.svg');
  }
  &.healing:before {
    content: url('icons/healing.svg');
  }

  /*    backgrounds:    */
  // Backgrounds from https://gradienthunt.com
  // TODO Support old browsers (like in blank)

  &.blank {
    background: rgb(55,55,55); /* Old browsers */
    background: -moz-linear-gradient(top, rgba(55,55,55,1) 0%, rgba(44,44,44,1) 44%, rgba(33,33,33,1) 100%); /* FF3.6-15 */
    background: -webkit-linear-gradient(top, rgba(55,55,55,1) 0%,rgba(44,44,44,1) 44%,rgba(33,33,33,1) 100%); /* Chrome10-25,Safari5.1-6 */
    background: linear-gradient(to bottom, rgba(55,55,55,1) 0%,rgba(44,44,44,1) 44%,rgba(33,33,33,1) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
  }

  &.green {
    background: radial-gradient( circle farthest-corner at 10% 20%,  rgba(30,240,95,1) 0%, rgba(20,40,225,1) 90% );
  }

}


.tabs {
  background: transparent;
  border: none;
}
.tabs li a {
  background: transparent;
  color: #bfbfbf;
  padding: 0.75rem 1.5rem;
}
.tabs li.is-active a {
  background: transparent;
  color: white;
  border-bottom: 2px solid white;
  /*background: #6f6f6f;*/
}
.tabs li a:hover {
  background: transparent;
  color: white;
  border-bottom: 2px solid white;
  /*background: #6f6f6f;*/
}


td.nostretch, th.nostretch {
  width: 1%;
  white-space: nowrap;
}
table {
  background: transparent;
  tbody {
    background: transparent;
    border: none;
  }
}
table.no-rows{
  tbody tr.even,
  tbody tr:nth-of-type(even),
  tbody tr.odd,
  tbody tr:nth-of-type(odd){
    background: transparent;
  }
}
table.tight-spacing {
  tbody tr td {
    padding: 0.25em 0.25em;
  }
}
table.no-spacing {
  tbody tr td {
    padding: 0;
  }
}





